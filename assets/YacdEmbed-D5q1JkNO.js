import{j as e,C as o,F as c}from"./bootstrap-vendor-BaqZ8axc.js";import{r as l}from"./react-vendor-BxsFYPlk.js";import{a as p}from"./index-B3rkr6Ma.js";import"./axios-vendor-B9ygI19o.js";function j({instances:a,selectedInstanceId:r,onInstanceChange:d}){const[n,s]=l.useState("");return l.useEffect(()=>{if(r){const t=a.find(i=>i.id===r);if(t&&t.status==="running"){const i=p(),m=new URLSearchParams({hostname:i,port:t.port.toString(),secret:t.secret||""});s(`https://yacd.metacubex.one/?${m.toString()}`)}else s("")}else s("")},[r,a]),e.jsxs(o,{children:[e.jsx(o.Header,{children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsx("h5",{className:"mb-0",children:"Yacd管理界面"}),e.jsxs(c.Select,{value:r||"",onChange:t=>d(t.target.value?parseInt(t.target.value):null),style:{width:"auto"},children:[e.jsx("option",{value:"",children:"选择实例"}),a.filter(t=>t.status==="running").map(t=>e.jsxs("option",{value:t.id,children:[t.name," (端口: ",t.port,")"]},t.id))]})]})}),e.jsx(o.Body,{style:{padding:0},children:n?e.jsx("iframe",{src:n,style:{width:"100%",height:"800px",border:"none"},title:"Yacd Dashboard"}):e.jsx("div",{className:"p-5 text-center text-muted",children:r?"请先启动选中的实例":"请选择一个运行中的实例"})})]})}export{j as default};
