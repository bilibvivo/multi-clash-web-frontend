import{j as r,C as i,F as p}from"./bootstrap-vendor-BaqZ8axc.js";import{r as l}from"./react-vendor-BxsFYPlk.js";import{a as m}from"./index-B3rkr6Ma.js";import"./axios-vendor-B9ygI19o.js";function j({instances:s,selectedInstanceId:e,onInstanceChange:d}){const[n,a]=l.useState("");return l.useEffect(()=>{if(e){const t=s.find(o=>o.id===e);if(t&&t.status==="running"){const o=m(),h=new URLSearchParams({hostname:o,port:t.port.toString(),secret:t.secret||"",http:"http"});a(`https://board.zash.run.place/#/setup?${h.toString()}`)}else a("")}else a("")},[e,s]),r.jsxs(i,{children:[r.jsx(i.Header,{children:r.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[r.jsx("h5",{className:"mb-0",children:"Zashboard 控制台"}),r.jsxs(p.Select,{value:e||"",onChange:t=>d(t.target.value?parseInt(t.target.value):null),style:{width:"auto"},children:[r.jsx("option",{value:"",children:"选择实例"}),s.filter(t=>t.status==="running").map(t=>r.jsxs("option",{value:t.id,children:[t.name," (端口: ",t.port,")"]},t.id))]})]})}),r.jsx(i.Body,{style:{padding:0},children:n?r.jsx("iframe",{src:n,style:{width:"100%",height:"800px",border:"none"},title:"Zashboard Dashboard"}):r.jsx("div",{className:"p-5 text-center text-muted",children:e?"所选实例未运行，无法加载控制台":"请选择一个运行中的实例"})})]})}export{j as default};
