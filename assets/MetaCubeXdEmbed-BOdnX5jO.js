import{j as e,C as o,F as d}from"./bootstrap-vendor-BaqZ8axc.js";import{r as n}from"./react-vendor-BxsFYPlk.js";function x({instances:s,selectedInstanceId:r,onInstanceChange:u}){const[l,a]=n.useState("");return n.useEffect(()=>{if(r){const t=s.find(i=>i.id===r);if(t&&t.status==="running"){const i=new URLSearchParams({hostname:"127.0.0.1",port:t.port.toString(),secret:t.secret||"",http:"http"});a(`https://metacubex.github.io/metacubexd/#/setup?${i.toString()}`)}else a("")}else a("")},[r,s]),e.jsxs(o,{children:[e.jsx(o.Header,{children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsx("h5",{className:"mb-0",children:"metacubexd 控制台"}),e.jsxs(d.Select,{value:r||"",onChange:t=>u(t.target.value?parseInt(t.target.value):null),style:{width:"auto"},children:[e.jsx("option",{value:"",children:"选择实例"}),s.filter(t=>t.status==="running").map(t=>e.jsxs("option",{value:t.id,children:[t.name," (端口: ",t.port,")"]},t.id))]})]})}),e.jsx(o.Body,{style:{padding:0},children:l?e.jsx("iframe",{src:l,style:{width:"100%",height:"800px",border:"none"},title:"MetaCubeXD Dashboard"}):e.jsx("div",{className:"p-5 text-center text-muted",children:r?"所选实例未运行，无法加载控制台":"请选择一个运行中的实例"})})]})}export{x as default};
