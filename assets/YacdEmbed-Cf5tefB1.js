import{j as t,C as o,F as c}from"./bootstrap-vendor-BaqZ8axc.js";import{r as n}from"./react-vendor-BxsFYPlk.js";function h({instances:a,selectedInstanceId:r,onInstanceChange:d}){const[l,s]=n.useState("");return n.useEffect(()=>{if(r){const e=a.find(i=>i.id===r);if(e&&e.status==="running"){const i=new URLSearchParams({hostname:"127.0.0.1",port:e.port.toString(),secret:e.secret||""});s(`https://yacd.metacubex.one/?${i.toString()}`)}else s("")}else s("")},[r,a]),t.jsxs(o,{children:[t.jsx(o.Header,{children:t.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[t.jsx("h5",{className:"mb-0",children:"Yacd管理界面"}),t.jsxs(c.Select,{value:r||"",onChange:e=>d(e.target.value?parseInt(e.target.value):null),style:{width:"auto"},children:[t.jsx("option",{value:"",children:"选择实例"}),a.filter(e=>e.status==="running").map(e=>t.jsxs("option",{value:e.id,children:[e.name," (端口: ",e.port,")"]},e.id))]})]})}),t.jsx(o.Body,{style:{padding:0},children:l?t.jsx("iframe",{src:l,style:{width:"100%",height:"800px",border:"none"},title:"Yacd Dashboard"}):t.jsx("div",{className:"p-5 text-center text-muted",children:r?"请先启动选中的实例":"请选择一个运行中的实例"})})]})}export{h as default};
